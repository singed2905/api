{
  "keylog_patterns": {
    "geometry_mode_prefix": "w9",
    "coordinate_input": {
      "pattern": "wj{coordinates}qT",
      "description": "Mẫu nhập tọa độ điểm: wj + tọa độ + qT",
      "example": "wj113=2=3=qT",
      "separators": {
        "coordinate": "=",
        "point": "1"
      }
    },
    "operations": {
      "distance_calculation": {
        "pattern": "{prefix}T1{point2}C{suffix}",
        "prefix": "1",
        "suffix": "RT2=",
        "description": "Tính khoảng cách giữa 2 điểm",
        "example": "1T14=5=6=CqT3T1RT2="
      },
      "line_intersection": {
        "pattern": "{prefix}R1{line_data}T{suffix}",
        "prefix": "2",
        "suffix": "ST3=",
        "description": "Giao điểm đường thẳng",
        "example": "2R1{line_data}TST3="
      },
      "plane_intersection": {
        "pattern": "{prefix}S1{plane_data}U{suffix}",
        "prefix": "3",
        "suffix": "VT4=",
        "description": "Giao tuyến mặt phẳng",
        "example": "3S1{plane_data}UVT4="
      }
    }
  },
  "coordinate_encoding": {
    "point_2d": {
      "pattern": "{x}={y}=",
      "description": "Mã hóa điểm 2D: x=y=",
      "example": "1=2="
    },
    "point_3d": {
      "pattern": "{x}={y}={z}=",
      "description": "Mã hóa điểm 3D: x=y=z=",
      "example": "1=2=3="
    },
    "line_3d": {
      "pattern": "{point}1{direction_vector}",
      "description": "Mã hóa đường thẳng: điểm + 1 + vector",
      "example": "1=2=3=11=0=1="
    },
    "plane_3d": {
      "pattern": "{a}={b}={c}={d}=",
      "description": "Mã hóa mặt phẳng: a=b=c=d=",
      "example": "1=2=3=4="
    },
    "circle_2d": {
      "pattern": "{center}1{radius}",
      "description": "Mã hóa đường tròn: center + 1 + radius",
      "example": "0=0=15="
    },
    "sphere_3d": {
      "pattern": "{center}1{radius}",
      "description": "Mã hóa mặt cầu: center + 1 + radius",
      "example": "0=0=0=15="
    }
  },
  "calculator_specific_prefixes": {
    "fx799": {
      "geometry_mode": "w9",
      "coordinate_input": "wj",
      "coordinate_end": "qT",
      "calculation_start": "1",
      "result_separator": "T"
    },
    "fx880": {
      "geometry_mode": "wR$$||9",
      "coordinate_input": "wR$$||j",
      "coordinate_end": "qT",
      "calculation_start": "1",
      "result_separator": "T"
    },
    "fx991": {
      "geometry_mode": "w9",
      "coordinate_input": "wj",
      "coordinate_end": "qT",
      "calculation_start": "1",
      "result_separator": "T"
    }
  },
  "geometry_keylog_examples": {
    "point_distance_3d": {
      "input": {
        "point_a": "1,2,3",
        "point_b": "4,5,6"
      },
      "keylog": "wj113=2=3=qT11T1224=5=6=CqT3T1RT2=",
      "description": "Tính khoảng cách giữa 2 điểm 3D"
    },
    "circle_area_2d": {
      "input": {
        "circle_center": "0,0",
        "circle_radius": "5"
      },
      "keylog": "wj110=0=15=qTAREA_CALC",
      "description": "Tính diện tích đường tròn 2D"
    },
    "line_plane_intersection": {
      "input": {
        "line_point": "1,2,3",
        "line_direction": "1,0,1",
        "plane_coefficients": "1,2,3,4"
      },
      "keylog": "wj111=2=3=11=0=1=qT2R1PLANE_DATA_TST3=",
      "description": "Giao điểm đường thẳng và mặt phẳng"
    }
  },
  "validation_rules": {
    "coordinate_format": {
      "2d_pattern": "^-?\\d+(\\.\\d+)?,\\s*-?\\d+(\\.\\d+)?$",
      "3d_pattern": "^-?\\d+(\\.\\d+)?,\\s*-?\\d+(\\.\\d+)?,\\s*-?\\d+(\\.\\d+)?$",
      "description": "Validation patterns cho coordinate input"
    },
    "numeric_precision": {
      "max_decimal_places": 6,
      "scientific_notation_threshold": 1e6,
      "rounding_mode": "round"
    }
  },
  "metadata": {
    "version": "2.0",
    "description": "Keylog encoding patterns và quy tắc mã hóa cho Geometry Mode",
    "created_for": "Geometry Calculator API",
    "last_updated": "2025-11-05",
    "notes": "File này chứa các quy tắc mã hóa cốt lõi để chuyển đổi từ dữ liệu hình học thành keylog cho máy tính Casio"
  }
}
